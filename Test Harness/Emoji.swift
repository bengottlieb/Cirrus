//
//  Emoji.swift
//  Emoji
//
//  Created by Ben Gottlieb on 7/18/21.
//

import Foundation
import CloudKit

struct Emoji: CKRecordSeed {
	var recordID: CKRecord.ID? { CKRecord.ID(recordName: emoji, zoneID: Cirrus.instance.zones["emoji"]!.zoneID) }
	var recordZone: CKRecordZone? { Cirrus.instance.zone(named: "emoji") }
	var parentRelationshipName: String? { nil }
	var savedRelationshipNames: [String] { [] }
	
	var recordType: CKRecord.RecordType { "emoji" }
	
	var savedFieldNames: [String] { ["emoji"] }
	
	func reference(for name: String, action: CKRecord.ReferenceAction = .none) -> CKRecord.Reference? { nil }
	subscript(key: String) -> CKRecordValue? {
		switch key {
		case "emoji": return emoji as CKRecordValue
		default: return nil
		}
	}
	
	var emoji: String
}

extension Emoji {
	static func cluser(count: Int) -> [Emoji] {
		Array(0..<count).map { _ in randomEmoji() }
	}
	
	static func random() -> String {
		let seeds = "ðŸ’‰ðŸ†•ðŸŒ“ðŸ–ðŸ›â¬‡ï¸ðŸŽµðŸ’¦ðŸ‘´ðŸ˜°ðŸŒ«â˜¢âœ´ï¸ðŸ•ðŸš‹ðŸ‘½ðŸš˜ðŸ”¸â©ðŸŽ¿ðŸŽ©ðŸ’ºðŸ—¼ðŸ•™ðŸŒ¶â²ðŸ¨ðŸŒðŸ“œðŸˆ²ðŸŽ€ðŸ”¨ðŸšªâš«ï¸âš¡ï¸ðŸš¿âœ”ï¸ðŸŒƒðŸ£ðŸ“„ðŸ³ðŸ¦ðŸˆ¶ðŸ•ðŸŒ¤ðŸ‚âš°ðŸšâœ¡ðŸ’ƒðŸ‘“ðŸ”±ðŸ’’ðŸš£ðŸ’šðŸ‘™ðŸŒ’Â®ï¸ðŸ”œðŸ•‹ðŸ’‹ðŸŽ¨Â©ï¸ðŸ’ ðŸŽŽðŸ’·ðŸ°âž¡ï¸ðŸ‘ðŸµðŸ¬ðŸŒ»ðŸ“±ðŸ–ŠðŸŽ§ðŸ”“ðŸšðŸ™ðŸŒœðŸŒ‡ðŸ’ðŸ”â›©â˜ï¸ðŸ¹ðŸŽ¦â›µï¸ðŸ—â–ªï¸ðŸŽŠðŸ“‹ðŸ†’ðŸ‘ðŸ˜¤âš›ðŸ¬ðŸ“µâ˜Žï¸âœï¸ðŸ’„ðŸŒ‰ã€½ï¸ðŸ“•ðŸ–¨ðŸ†šðŸŽ¶â†•ï¸ðŸ’€ðŸ•â™¨ï¸âœ‹â¬†ï¸ðŸšŒâ—½ï¸ðŸ‘¹ðŸ‘±âž°ðŸš…âš”ðŸ“ºðŸŒðŸš¤ðŸ“«ðŸš¨ðŸŒâ¸ðŸ•‰ðŸ“ŽðŸ˜†ðŸˆ¯ï¸ðŸ’³ðŸ“¯ðŸŒªâ­ðŸ™ðŸŒ¼ðŸŽ“ðŸ„ðŸš¢ðŸ•¹ðŸ”ðŸ“†0ï¸âƒ£ðŸ”‚ðŸ¯ðŸˆ¸ðŸš¯ðŸœðŸ’¾ðŸ–ðŸ•˜ðŸ˜ŒðŸ˜žðŸ—‘ðŸŒ©â†”ï¸ðŸšðŸ’žðŸŽ¾ðŸ¼ðŸ•¢ðŸ¢ðŸ’ðŸ‘ŒðŸ›ðŸ—½ðŸ•¥ðŸ˜ ðŸŒŠðŸŒ§â³ðŸ’¼ðŸ¢ðŸ™‚ðŸ¤“ðŸš´ðŸ†–ðŸðŸ•‘ðŸ—¨ðŸŒðŸ‰‘â˜€ï¸ðŸ“ðŸŒŒðŸ“¢ðŸ“—ðŸ˜ðŸŒ´ðŸ”âž–ðŸ‘¬ðŸ•ðŸ’¢ðŸ“â˜¯ðŸŽ°â—¼ï¸ðŸ…±ï¸ðŸŒ¬ðŸðŸ“™ðŸ‘…ðŸŽ—ðŸ‘­ðŸðŸ–•ðŸ•¤ðŸ•ðŸ´ðŸ†—ðŸŽ£ðŸ––ðŸ˜—ðŸ˜¯ðŸ—„ðŸ‘’ðŸ•¶ðŸ²ðŸ–ðŸ’µðŸ“¤ðŸš™âš’ðŸ¥ðŸ›âœ–ï¸#ï¸âƒ£ðŸžðŸªðŸ—»ðŸš—ðŸ¡ðŸ†‘ðŸŒðŸ‘ˆðŸ‘ƒðŸš¾ðŸ˜”ðŸŒ„ðŸ•’ðŸ›„ðŸ’«ðŸ’ðŸ•œâ˜ºï¸ðŸ¹ðŸ’¤2ï¸âƒ£ðŸ›ðŸ’ªðŸ‘¾ðŸ˜‹ðŸ•žðŸŽªðŸš¦ðŸ“ŠâŒšï¸ðŸŽ¼âœŒï¸4ï¸âƒ£ðŸ˜ˆðŸ›‹ðŸŒ¡ðŸ®â›ªï¸ðŸš‡ðŸŽˆðŸ¾ðŸ‘¢ðŸ”ŒðŸ‘˜ðŸš†ðŸ¹ðŸ²ðŸŽâ—¾ï¸ðŸˆµâ‰ï¸ðŸ›€ðŸˆ¹ðŸ‘€ðŸ•¦ðŸ”˜ðŸ’ŽðŸ›³âœðŸŽ¥âœ…ðŸƒðŸ¤•ðŸš¼â˜ªðŸµðŸµâ™Šï¸â›ðŸ•ŽðŸ˜–ðŸ˜£ðŸ’£ðŸ’ðŸ“˜â˜®ðŸŽ â¬›ï¸â€¼ï¸ðŸš›ðŸ™ðŸ’†ðŸš â¤ï¸ðŸŽ»8ï¸âƒ£ðŸ‚ðŸ¤—ðŸ•ŒðŸ”®ðŸ‡ðŸ‹ðŸš½ðŸ‘°â—€ï¸1ï¸âƒ£ðŸðŸ‘†ðŸ™†ðŸ¤âœ‰ï¸ðŸðŸ‘›ðŸ’‚ðŸ˜ºâ›·ðŸ‘â˜ï¸ðŸ¤‘ðŸ‘¶ðŸ‘‡ðŸ”·ðŸ½ðŸ‘ªðŸ™ðŸ˜µðŸšºðŸ‘»ðŸ’–ðŸ””ðŸŒ•ðŸˆšï¸ðŸ“´â™Žï¸ðŸ‘ðŸ•Ÿâ˜”ï¸ðŸ¸ðŸŽ„â“‚ï¸ðŸœâ™ï¸ðŸŽ‰ðŸ˜¿âš±ðŸ”­ðŸ†™ðŸ¦ƒ9ï¸âƒ£ðŸŒ¦ðŸ˜„ðŸ™…ðŸšžðŸðŸŽžðŸŠðŸ“‡ðŸ—œâž—â¬ðŸ’˜ðŸŽ²ðŸ˜‘ðŸ’±ðŸš“ðŸ‘ºðŸ˜¾ðŸ”°ðŸ”¥ðŸ‘„ðŸ™ˆðŸ’¿ðŸ˜˜ðŸ‘ŠðŸ³ðŸ™ðŸŽðŸ¦€ðŸðŸ“½ðŸ”¬ðŸš¶â–¶ï¸â˜‚ðŸ“°ðŸˆðŸ˜¡ðŸ”ðŸ›¡ðŸ”¶ðŸ©ðŸˆ´ðŸŽðŸ‘¥âš–ðŸ”¦ðŸ—¡ðŸŽ·ðŸš‘ðŸ°ðŸ”›ðŸ‘—âªðŸ€„ï¸ðŸ”€ðŸŒ°ðŸ’›â›„ï¸ðŸ˜´ðŸ…ðŸ•š7ï¸âƒ£ðŸ¾ðŸ™ŒðŸ”ŠðŸ›…ðŸš„ðŸ˜¶ðŸ†”ðŸ¦ðŸŒ‚ðŸ“©âºðŸ†ðŸ““ðŸŒŽðŸ ðŸšœðŸ”â˜„ðŸ›ŒðŸ“‘ðŸŒ¸ðŸ’‡ðŸš¸ðŸ‘ ðŸŠðŸ•â›‘âŽðŸžâ™Œï¸ðŸ—ƒðŸ…¾ï¸âž•ðŸƒðŸ’¡ðŸ”†ðŸ¨ðŸŒ‘â“ðŸ…ðŸ’§ðŸ·ðŸ‘ðŸ“¸âž¿ðŸœðŸðŸ¤˜ðŸ“‚ðŸ†˜ðŸ˜ŠðŸ”¹ðŸ›ƒðŸ˜¹ðŸ’“6ï¸âƒ£ðŸ·ðŸš§ðŸºðŸ‘‰ðŸ“â†˜ï¸ðŸŽðŸ’ŒðŸ­ðŸ—£ðŸ’¯ðŸ”ŸðŸª"
		
		return "\(seeds.randomElement()!)"
	}
	
	static func randomEmoji() -> Emoji {
		
		var text = ""
		
		for _ in 0...(Int.random(to: 10) + 2) {
			text += random()
		}
		return Emoji(emoji: text)
	}
}
