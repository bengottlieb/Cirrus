//
//  Emoji.swift
//  Emoji
//
//  Created by Ben Gottlieb on 7/18/21.
//

import Foundation
import CloudKit

struct Emoji: CKRecordSeed {
	var recordID: CKRecord.ID? { CKRecord.ID(recordName: emoji, zoneID: Cirrus.instance.zones["emoji"]!.zoneID) }
	var recordZone: CKRecordZone? { Cirrus.instance.zone(named: "emoji") }
	var parentRelationshipName: String? { nil }
	var savedRelationshipNames: [String] { [] }
	
	var recordType: CKRecord.RecordType { "emoji" }
	
	var savedFieldNames: [String] { ["emoji"] }
	
	func reference(for name: String, action: CKRecord.ReferenceAction = .none) -> CKRecord.Reference? { nil }
	subscript(key: String) -> CKRecordValue? {
		switch key {
		case "emoji": return emoji as CKRecordValue
		default: return nil
		}
	}
	
	var emoji: String
}

extension Emoji {
	static func cluser(count: Int) -> [Emoji] {
		Array(0..<count).map { _ in randomEmoji() }
	}
	
	static func random() -> String {
		let seeds = "ðŸ’‰ ðŸ†• ðŸŒ“ ðŸ– ðŸ› â¬‡ï¸ ðŸŽµ ðŸ’¦ ðŸ‘´ ðŸ˜° ðŸŒ« â˜¢ âœ´ï¸ ðŸ• ðŸš‹ ðŸ‘½ ðŸš˜ ðŸ”¸ â© ðŸŽ¿ ðŸŽ© ðŸ’º ðŸ—¼ ðŸ•™ ðŸŒ¶ â² ðŸ¨ ðŸŒ ðŸ“œ ðŸˆ² ðŸŽ€ ðŸ”¨ ðŸšª âš«ï¸ âš¡ï¸ ðŸš¿ âœ”ï¸ ðŸŒƒ ðŸ£ ðŸ“„ ðŸ³ ðŸ¦ ðŸˆ¶ ðŸ• ðŸŒ¤ ðŸ‚ âš° ðŸš âœ¡ ðŸ’ƒ ðŸ‘“ ðŸ”± ðŸ’’ ðŸš£ ðŸ’š ðŸ‘™ ðŸŒ’ Â®ï¸ ðŸ”œ ðŸ•‹ ðŸ’‹ ðŸŽ¨ Â©ï¸ ðŸ’  ðŸŽŽ ðŸ’· ðŸ° âž¡ï¸ ðŸ‘ ðŸµ ðŸ¬ ðŸŒ» ðŸ“± ðŸ–Š ðŸŽ§ ðŸ”“ ðŸš ðŸ™ ðŸŒœ ðŸŒ‡ ðŸ’ ðŸ” â›© â˜ï¸ ðŸ¹ ðŸŽ¦ â›µï¸ ðŸ— â–ªï¸ ðŸŽŠ ðŸ“‹ ðŸ†’ ðŸ‘ ðŸ˜¤ âš› ðŸ¬ ðŸ“µ â˜Žï¸ âœï¸ ðŸ’„ ðŸŒ‰ ã€½ï¸ ðŸ“• ðŸ–¨ ðŸ†š ðŸŽ¶ â†•ï¸ ðŸ’€ ðŸ• â™¨ï¸ âœ‹ â¬†ï¸ ðŸšŒ â—½ï¸ ðŸ‘¹ ðŸ‘± âž° ðŸš… âš” ðŸ“º ðŸŒ ðŸš¤ ðŸ“« ðŸš¨ ðŸŒ â¸ ðŸ•‰ ðŸ“Ž ðŸ˜† ðŸˆ¯ï¸ ðŸ’³ ðŸ“¯ ðŸŒª â­ ðŸ™ ðŸŒ¼ ðŸŽ“ ðŸ„ ðŸš¢ ðŸ•¹ ðŸ” ðŸ“† 0ï¸âƒ£ ðŸ”‚ ðŸ¯ ðŸˆ¸ ðŸš¯ ðŸœ ðŸ’¾ ðŸ– ðŸ•˜ ðŸ˜Œ ðŸ˜ž ðŸ—‘ ðŸŒ© â†”ï¸ ðŸš ðŸ’ž ðŸŽ¾ ðŸ¼ ðŸ•¢ ðŸ¢ ðŸ’ ðŸ‘Œ ðŸ› ðŸ—½ ðŸ•¥ ðŸ˜  ðŸŒŠ ðŸŒ§ â³ ðŸ’¼ ðŸ¢ ðŸ™‚ ðŸ¤“ ðŸš´ ðŸ†– ðŸ ðŸ•‘ ðŸ—¨ ðŸŒ ðŸ‰‘ â˜€ï¸ ðŸ“ ðŸŒŒ ðŸ“¢ ðŸ“— ðŸ˜ ðŸŒ´ ðŸ” âž– ðŸ‘¬ ðŸ• ðŸ’¢ ðŸ“ â˜¯ ðŸŽ° â—¼ï¸ ðŸ…±ï¸ ðŸŒ¬ ðŸ ðŸ“™ ðŸ‘… ðŸŽ— ðŸ‘­ ðŸ ðŸ–• ðŸ•¤ ðŸ• ðŸ´ ðŸ†— ðŸŽ£ ðŸ–– ðŸ˜— ðŸ˜¯ ðŸ—„ ðŸ‘’ ðŸ•¶ ðŸ² ðŸ– ðŸ’µ ðŸ“¤ ðŸš™ âš’ ðŸ¥ ðŸ› âœ–ï¸ #ï¸âƒ£ ðŸž ðŸª ðŸ—» ðŸš— ðŸ¡ ðŸ†‘ ðŸŒ ðŸ‘ˆ ðŸ‘ƒ ðŸš¾ ðŸ˜” ðŸŒ„ ðŸ•’ ðŸ›„ ðŸ’« ðŸ’ ðŸ•œ â˜ºï¸ ðŸ¹ ðŸ’¤ 2ï¸âƒ£ ðŸ› ðŸ’ª ðŸ‘¾ ðŸ˜‹ ðŸ•ž ðŸŽª ðŸš¦ ðŸ“Š âŒšï¸ ðŸŽ¼ âœŒï¸ 4ï¸âƒ£ ðŸ˜ˆ ðŸ›‹ ðŸŒ¡ ðŸ® â›ªï¸ ðŸš‡ ðŸŽˆ ðŸ¾ ðŸ‘¢ ðŸ”Œ ðŸ‘˜ ðŸš† ðŸ¹ ðŸ² ðŸŽ â—¾ï¸ ðŸˆµ â‰ï¸ ðŸ›€ ðŸˆ¹ ðŸ‘€ ðŸ•¦ ðŸ”˜ ðŸ’Ž ðŸ›³ âœ ðŸŽ¥ âœ… ðŸƒ ðŸ¤• ðŸš¼ â˜ª ðŸµ ðŸµ â™Šï¸ â› ðŸ•Ž ðŸ˜– ðŸ˜£ ðŸ’£ ðŸ’ ðŸ“˜ â˜® ðŸŽ  â¬›ï¸ â€¼ï¸ ðŸš› ðŸ™ ðŸ’† ðŸš  â¤ï¸ ðŸŽ» 8ï¸âƒ£ ðŸ‚ ðŸ¤— ðŸ•Œ ðŸ”® ðŸ‡ ðŸ‹ ðŸš½ ðŸ‘° â—€ï¸ 1ï¸âƒ£ ðŸ ðŸ‘† ðŸ™† ðŸ¤ âœ‰ï¸ ðŸ ðŸ‘› ðŸ’‚ ðŸ˜º â›· ðŸ‘ â˜ï¸ ðŸ¤‘ ðŸ‘¶ ðŸ‘‡ ðŸ”· ðŸ½ ðŸ‘ª ðŸ™ ðŸ˜µ ðŸšº ðŸ‘» ðŸ’– ðŸ”” ðŸŒ• ðŸˆšï¸ ðŸ“´ â™Žï¸ ðŸ‘ ðŸ•Ÿ â˜”ï¸ ðŸ¸ ðŸŽ„ â“‚ï¸ ðŸœ â™ï¸ ðŸŽ‰ ðŸ˜¿ âš± ðŸ”­ ðŸ†™ ðŸ¦ƒ 9ï¸âƒ£ ðŸŒ¦ ðŸ˜„ ðŸ™… ðŸšž ðŸ ðŸŽž ðŸŠ ðŸ“‡ ðŸ—œ âž— â¬ ðŸ’˜ ðŸŽ² ðŸ˜‘ ðŸ’± ðŸš“ ðŸ‘º ðŸ˜¾ ðŸ”° ðŸ”¥ ðŸ‘„ ðŸ™ˆ ðŸ’¿ ðŸ˜˜ ðŸ‘Š ðŸ³ ðŸ™ ðŸŽ ðŸ¦€ ðŸ ðŸ“½ ðŸ”¬ ðŸš¶ â–¶ï¸ â˜‚ ðŸ“° ðŸˆ ðŸ˜¡ ðŸ” ðŸ›¡ ðŸ”¶ ðŸ© ðŸˆ´ ðŸŽ ðŸ‘¥ âš– ðŸ”¦ ðŸ—¡ ðŸŽ· ðŸš‘ ðŸ° ðŸ”› ðŸ‘— âª ðŸ€„ï¸ ðŸ”€ ðŸŒ° ðŸ’› â›„ï¸ ðŸ˜´ ðŸ… ðŸ•š 7ï¸âƒ£ ðŸ¾ ðŸ™Œ ðŸ”Š ðŸ›… ðŸš„ ðŸ˜¶ ðŸ†” ðŸ¦ ðŸŒ‚ ðŸ“© âº ðŸ† ðŸ““ ðŸŒŽ ðŸ  ðŸšœ ðŸ” â˜„ ðŸ›Œ ðŸ“‘ ðŸŒ¸ ðŸ’‡ ðŸš¸ ðŸ‘  ðŸŠ ðŸ• â›‘ âŽ ðŸž â™Œï¸ ðŸ—ƒ ðŸ…¾ï¸ âž• ðŸƒ ðŸ’¡ ðŸ”† ðŸ¨ ðŸŒ‘ â” â“ ðŸ… ðŸ’§ ðŸ· ðŸ‘ ðŸ“¸ âž¿ ðŸœ ðŸ ðŸ¤˜ ðŸ“‚ ðŸ†˜ ðŸ˜Š ðŸ”¹ ðŸ›ƒ ðŸ˜¹ ðŸ’“ 6ï¸âƒ£ ðŸ· ðŸš§ ðŸº ðŸ‘‰ ðŸ“ â†˜ï¸ ðŸŽ ðŸ’Œ ðŸ­ ðŸ—£ ðŸ’¯ ðŸ”Ÿ ðŸª"
		
		return "\(seeds.randomElement()!)"
	}
	
	static func randomEmoji() -> Emoji {
		
		var text = ""
		
		for _ in 0...(Int.random(to: 10) + 2) {
			text += random()
		}
		return Emoji(emoji: text)
	}
}
